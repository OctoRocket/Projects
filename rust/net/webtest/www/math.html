<!doctype html>
<html>
<head>
    <title>Funny test website</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles/style.css"/>
</head>

<body>
    <script type="module">
        import init, {factors, primes, dec_to_frac, mem_eat} from "./wasm/wasm-utils/pkg/wasm_utils.js";
        await init();
        
        mem_eat();

        async function run_factors(num) {
            var solution = factors(num);
            console.log(solution);
            document.getElementById("factor-result").innerHTML = "Result: " + solution.replaceAll("|", " ");
        }
        
        async function run_prime(num) {
            var solution = primes(num);
            console.log(solution);
            document.getElementById("prime-result").innerHTML = "Result: " + solution.replaceAll("|", " ")
        }
        
        async function run_dec_to_frac(dec) {
            var solution = dec_to_frac(dec)
            console.log(solution);
            document.getElementById("dec-result").innerHTML = "Result: " + solution;
        }

        document.getElementById("factor-button").onclick=async ()=>{
            await run_factors(document.getElementById("factor").value);
        }

        document.getElementById("prime-button").onclick=async ()=>{
            await run_prime(document.getElementById("prime").value);
        }

        document.getElementById("dec-to-frac-button").onclick=async ()=>{
            await run_dec_to_frac(document.getElementById("dec").value);
        }
    </script>
    <div>
        Factor finder: <input type="number" name="Factor" id="factor"><br>
        <tr>
            <button class="button" id="factor-button">Go!</button>
            <label id="factor-result"></label>
        </tr>
    </div>
    <div>
        Prime numbers under number: <input type="number" name="Prime" id="prime"><br>
        <tr>
            <button class="button" id="prime-button">Go!</button>
            <label id="prime-result"></label>
        </tr>
    </div>
    <div>
        Decimal to fraction converter: <input type="string" name="Decimal" id="dec"><br>
        <tr>
            <button class="button" id="dec-to-frac-button">Go!</button>
            <label id="dec-result"></label>
        </tr>
    </div>
</body>
</html>
